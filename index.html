<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Personnalisation Boucles d'Oreilles</title>
<style>
  /* Couleurs et styles g√©n√©raux */
  :root {
    --rose-pale: #ffefef;
    --rose-vif: #fa6464;
    --rose-vif-text: #fff;
    --texte-principal: #333;
    --fond-blanc: #fff;
  }
  body {
    margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: var(--rose-pale);
    color: var(--texte-principal);
    min-height: 100vh;
    display: flex; justify-content: center; padding: 20px;
  }
  main {
    max-width: 800px;
    width: 100%;
    background: var(--fond-blanc);
    border-radius: 8px;
    box-shadow: 0 0 12px rgba(0,0,0,0.1);
    padding: 20px 30px 40px;
    display: flex; flex-direction: column;
  }
  h1 {
    color: var(--rose-vif);
    text-align: center;
    margin-bottom: 5px;
  }
  header {
    margin-bottom: 15px;
    text-align: center;
  }
  .contact-info {
    font-size: 0.9em;
    color: #555;
    margin-bottom: 20px;
  }
  .contact-info a {
    color: var(--rose-vif);
    text-decoration: none;
    margin: 0 5px;
  }

  /* R√©sum√© s√©lection */
  #selection-summary {
    background: #ffe3e3;
    border: 2px solid var(--rose-vif);
    border-radius: 6px;
    padding: 10px;
    font-weight: bold;
    margin-bottom: 20px;
    min-height: 48px;
  }

  /* Sections de s√©lection */
  section {
    margin-bottom: 25px;
  }
  section label {
    display: block;
    font-weight: 600;
    margin-bottom: 8px;
  }

  /* Boutons de s√©lection */
  .options-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }
  button.option-btn {
    background: var(--rose-pale);
    border: 2px solid var(--rose-vif);
    border-radius: 6px;
    padding: 8px 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
    min-width: 48px;
    text-align: center;
    user-select: none;
  }
  button.option-btn.selected {
    background: var(--rose-vif);
    color: var(--rose-vif-text);
    border-color: var(--rose-vif);
  }

  /* Couleurs - grille 5 colonnes */
  #colors-list {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px;
  }
  #colors-list button.option-btn {
    min-height: 36px;
    padding: 0;
  }
  #colors-list button.option-btn span.color-circle {
    display: block;
    width: 100%;
    height: 30px;
    border-radius: 50%;
    border: 2px solid transparent;
  }
  #colors-list button.option-btn.selected span.color-circle {
    border-color: var(--rose-vif);
    box-shadow: 0 0 6px var(--rose-vif);
  }
  #colors-list button.option-btn span.color-label {
    font-size: 0.75em;
    margin-top: 3px;
    user-select: none;
  }

  /* Bouton ajouter au panier */
  #add-to-cart-btn {
    background: var(--rose-vif);
    color: var(--rose-vif-text);
    font-weight: 700;
    border: none;
    padding: 14px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s ease;
    margin-top: 10px;
  }
  #add-to-cart-btn:hover:not(:disabled) {
    background: #d13d3d;
  }
  #add-to-cart-btn:disabled {
    background: #faa8a8;
    cursor: not-allowed;
  }

  /* Panier */
  #cart {
    margin-top: 30px;
  }
  #cart h2 {
    color: var(--rose-vif);
    margin-bottom: 10px;
  }
  #cart-list {
    list-style: none;
    padding: 0;
    margin: 0 0 10px 0;
    max-height: 220px;
    overflow-y: auto;
    border: 1px solid #ddd;
    border-radius: 6px;
  }
  #cart-list li {
    display: flex;
    justify-content: space-between;
    padding: 6px 10px;
    border-bottom: 1px solid #eee;
    font-size: 0.95em;
  }
  #cart-list li:last-child {
    border-bottom: none;
  }
  #cart-list li button.remove-item {
    background: transparent;
    border: none;
    color: var(--rose-vif);
    font-weight: 700;
    cursor: pointer;
  }
  #cart-total {
    font-weight: 700;
    text-align: right;
    margin-bottom: 15px;
  }

  /* Formulaire client */
  form#client-form {
    border-top: 2px solid var(--rose-vif);
    padding-top: 20px;
  }
  form#client-form h2 {
    color: var(--rose-vif);
    margin-bottom: 15px;
  }
  form#client-form label {
    display: block;
    margin-bottom: 5px;
    font-weight: 600;
  }
  form#client-form input, form#client-form textarea {
    width: 100%;
    padding: 8px 10px;
    margin-bottom: 15px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 1em;
    resize: vertical;
  }
  form#client-form textarea {
    min-height: 70px;
  }
  form#client-form button#copy-summary-btn {
    background: var(--rose-vif);
    color: var(--rose-vif-text);
    font-weight: 700;
    border: none;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    transition: background 0.3s ease;
  }
  form#client-form button#copy-summary-btn:hover {
    background: #d13d3d;
  }

  /* Confirmation copie */
  #copy-confirmation {
    color: green;
    font-weight: 700;
    margin-top: 8px;
    text-align: center;
    display: none;
  }

  /* Responsive */
  @media (max-width: 600px) {
    #colors-list {
      grid-template-columns: repeat(3, 1fr);
    }
    .options-list {
      flex-wrap: nowrap;
      overflow-x: auto;
      gap: 8px;
    }
    .options-list::-webkit-scrollbar {
      height: 6px;
    }
    .options-list::-webkit-scrollbar-thumb {
      background-color: var(--rose-vif);
      border-radius: 3px;
    }
  }
</style>
</head>
<body>
<main>
  <header>
    <h1>Cr√©ations Romane</h1>
    <div class="contact-info">
      <span>üìû 06.15.66.33.13</span> |
      <a href="mailto:rcreations.resine@gmail.com">rcreations.resine@gmail.com</a> |
      <a href="https://instagram.com/creationsromane" target="_blank" rel="noopener">@creationsromane</a>
    </div>
  </header>

  <div id="selection-summary">S√©lection : (rien pour l'instant)</div>

  <!-- Mod√®les -->
  <section id="models-section">
    <label>Mod√®le :</label>
    <div class="options-list" id="models-list"></div>
  </section>

  <!-- Tailles -->
  <section id="sizes-section">
    <label>Taille :</label>
    <div class="options-list" id="sizes-list"></div>
  </section>

  <!-- Attaches -->
  <section id="hooks-section">
    <label>Attache :</label>
    <div class="options-list" id="hooks-list"></div>
  </section>

  <!-- Couleurs -->
  <section id="colors-section">
    <label>Couleur :</label>
    <div id="colors-list"></div>
  </section>

  <button id="add-to-cart-btn" disabled>Ajouter au panier</button>

  <!-- Panier -->
  <section id="cart">
    <h2>Panier</h2>
    <ul id="cart-list"></ul>
    <div id="cart-total">Total : 0,00 ‚Ç¨</div>
  </section>

  <!-- Formulaire client -->
  <form id="client-form">
    <h2>Coordonn√©es</h2>
    <label for="client-name">Nom :</label>
    <input type="text" id="client-name" required />
    <label for="client-phone">T√©l√©phone :</label>
    <input type="tel" id="client-phone" required />
    <label for="client-email">Email :</label>
    <input type="email" id="client-email" required />
    <label for="client-message">Message :</label>
    <textarea id="client-message"></textarea>

    <button type="button" id="copy-summary-btn">Copier le r√©capitulatif de commande</button>
    <div id="copy-confirmation">R√©capitulatif copi√© !</div>
  </form>
</main>

<script>
(() => {
  // Donn√©es des produits
  const productsData = {
    models: {
      'Agathe': ['S'],
      'Ambre': ['S'],
      'C√©leste': ['S', 'M', 'L'],
      'Cl√©o': ['S'],
      'Emma': ['S', 'M'],
      'Eva': ['S'],
      'Iris': ['S'],
      'Jade': ['S'],
      'Julie': ['L'],
      'Lisa': ['L'],
      'Lou': ['S'],
      'Lucie': ['L'],
      'Lydia': ['S'],
      'Ma√´lle': ['S'],
      'Nina': ['S', 'M', 'L'],
      'Sarah': ['L'],
      'Sol√®ne': ['S'],
      'Zo√©': ['M']
    },
    hooks: [
      'Crochets argent', 'Ronds argent', 'Ronds or', 'Anneaux or', 'Aucune', 'Crochets or',
      'C≈ìurs or', 'C≈ìurs argent', 'Ronds martel√©s or', 'Gouttes or'
    ],
    prices: {
      S: { noHook: 3.50, withHook: 4.00 },
      M: { noHook: 4.50, withHook: 5.00 },
      L: { noHook: 5.50, withHook: 6.00 },
    },
    colors: [
      {name:'Noir', code:'#000000'},
      {name:'Kaki', code:'#78866B'},
      {name:'Marron', code:'#5C4033'},
      {name:'Bleu canard', code:'#05668D'},
      {name:'Bleu ciel', code:'#87CEEB'},
      {name:'Bleu nuit', code:'#191970'},
      {name:'Paillettes or', code:'#FFD700'},
      {name:'Bleu dur', code:'#003366'},
      {name:'Vert fonc√©', code:'#013220'},
      {name:'Bordeaux', code:'#800020'},
      {name:'Violet', code:'#8A2BE2'},
      {name:'Dor√©', code:'#DAA520'},
      {name:'Bronze', code:'#CD7F32'},
      {name:'Rouge', code:'#FF0000'},
      {name:'Jaune', code:'#FFFF00'},
      {name:'Bleu gris', code:'#6699CC'},
      {name:'Rose p√¢le', code:'#ffefef'},
      {name:'Cuivre', code:'#B87333'},
      {name:'Argent', code:'#C0C0C0'},
      {name:'Paillettes argent', code:'#D3D3D3'},
      {name:'Rose barbie', code:'#ff69b4'},
      {name:'Rose fonc√©', code:'#d6336c'}
    ]
  };

  // R√©f√©rences DOM
  const modelsList = document.getElementById('models-list');
  const sizesList = document.getElementById('sizes-list');
  const hooksList = document.getElementById('hooks-list');
  const colorsList = document.getElementById('colors-list');
  const selectionSummary = document.getElementById('selection-summary');
  const addToCartBtn = document.getElementById('add-to-cart-btn');
  const cartList = document.getElementById('cart-list');
  const cartTotal = document.getElementById('cart-total');
  const copySummaryBtn = document.getElementById('copy-summary-btn');
  const copyConfirmation = document.getElementById('copy-confirmation');

  // √âtat
  let selectedModel = null;
  let selectedSize = null;
  let selectedHook = null;
  let selectedColor = null;
  let cart = [];

  // Cr√©ation options mod√®les
  function createModelOptions() {
    for (const model in productsData.models) {
      const btn = document.createElement('button');
      btn.classList.add('option-btn');
      btn.textContent = model;
      btn.dataset.model = model;
      btn.addEventListener('click', () => {
        selectModel(model);
      });
      modelsList.appendChild(btn);
    }
  }
  // Mise √† jour tailles selon mod√®le choisi
  function updateSizeOptions() {
    sizesList.innerHTML = '';
    if (!selectedModel) return;
    const sizes = productsData.models[selectedModel];
    sizes.forEach(size => {
      const btn = document.createElement('button');
      btn.classList.add('option-btn');
      btn.textContent = size;
      btn.dataset.size = size;
      btn.addEventListener('click', () => {
        selectSize(size);
      });
      sizesList.appendChild(btn);
    });
  }
  // Cr√©ation options attaches
  function createHookOptions() {
    productsData.hooks.forEach(hook => {
      const btn = document.createElement('button');
      btn.classList.add('option-btn');
      btn.textContent = hook;
      btn.dataset.hook = hook;
      btn.addEventListener('click', () => {
        selectHook(hook);
      });
      hooksList.appendChild(btn);
    });
  }
  // Cr√©ation options couleurs
  function createColorOptions() {
    productsData.colors.forEach(color => {
      const btn = document.createElement('button');
      btn.classList.add('option-btn');
      btn.dataset.color = color.name;
      btn.title = color.name;

      const circle = document.createElement('span');
      circle.classList.add('color-circle');
      circle.style.backgroundColor = color.code;
      btn.appendChild(circle);

      const label = document.createElement('span');
      label.classList.add('color-label');
      label.textContent = color.name;
      btn.appendChild(label);

      btn.addEventListener('click', () => {
        selectColor(color.name);
      });

      colorsList.appendChild(btn);
    });
  }

  // S√©lections
  function selectModel(model) {
    selectedModel = model;
    // Met √† jour l'√©tat bouton s√©lectionn√©
    updateSelectedButtons(modelsList, model, 'model');
    // Met √† jour tailles dispo
    updateSizeOptions();
    // Reset taille s√©lectionn√©e car mod√®le a chang√©
    selectedSize = null;
    updateSelectedButtons(sizesList, null, 'size');
    // Met √† jour r√©sum√© et bouton
    updateSummary();
    updateAddButton();
  }
  function selectSize(size) {
    selectedSize = size;
    updateSelectedButtons(sizesList, size, 'size');
    updateSummary();
    updateAddButton();
  }
  function selectHook(hook) {
    selectedHook = hook;
    updateSelectedButtons(hooksList, hook, 'hook');
    updateSummary();
    updateAddButton();
  }
  function selectColor(color) {
    selectedColor = color;
    updateSelectedButtons(colorsList, color, 'color');
    updateSummary();
    updateAddButton();
  }
  // Mise √† jour visuelle boutons s√©lectionn√©s
  function updateSelectedButtons(container, selectedValue, type) {
    const btns = container.querySelectorAll('button.option-btn');
    btns.forEach(btn => {
      let val;
      if(type === 'model') val = btn.dataset.model;
      else if(type === 'size') val = btn.dataset.size;
      else if(type === 'hook') val = btn.dataset.hook;
      else if(type === 'color') val = btn.dataset.color;
      btn.classList.toggle('selected', val === selectedValue);
    });
  }

  // Calcul prix selon taille et attache
  function calculatePrice() {
    if (!selectedSize) return 0;
    const hasHook = selectedHook && selectedHook !== 'Aucune';
    const priceData = productsData.prices[selectedSize];
    if (!priceData) return 0;
    return hasHook ? priceData.withHook : priceData.noHook;
  }

  // Mise √† jour r√©sum√© s√©lection
  function updateSummary() {
    if (!selectedModel || !selectedSize || !selectedHook || !selectedColor) {
      selectionSummary.textContent = 'S√©lection : (incompl√®te)';
      return;
    }
    const price = calculatePrice().toFixed(2).replace('.', ',') + ' ‚Ç¨';
    selectionSummary.textContent = `S√©lection : Mod√®le ${selectedModel}, Taille ${selectedSize}, Attache ${selectedHook}, Couleur ${selectedColor} ‚Üí Prix : ${price}`;
  }

  // Activation bouton ajouter au panier
  function updateAddButton() {
    const canAdd = selectedModel && selectedSize && selectedHook && selectedColor;
    addToCartBtn.disabled = !canAdd;
  }

  // Ajout au panier
  addToCartBtn.addEventListener('click', () => {
    if (!(selectedModel && selectedSize && selectedHook && selectedColor)) return;
    const price = calculatePrice();
    const item = {
      id: Date.now(),
      model: selectedModel,
      size: selectedSize,
      hook: selectedHook,
      color: selectedColor,
      price
    };
    cart.push(item);
    updateCartUI();
    // Reset s√©lection
    selectedModel = null;
    selectedSize = null;
    selectedHook = null;
    selectedColor = null;
    updateSelectedButtons(modelsList, null, 'model');
    updateSelectedButtons(sizesList, null, 'size');
    updateSelectedButtons(hooksList, null, 'hook');
    updateSelectedButtons(colorsList, null, 'color');
    updateSummary();
    updateAddButton();
  });

  // Mise √† jour affichage panier
  function updateCartUI() {
    cartList.innerHTML = '';
    if (cart.length === 0) {
      cartList.innerHTML = '<li>Panier vide</li>';
      cartTotal.textContent = 'Total : 0,00 ‚Ç¨';
      return;
    }
    let total = 0;
    cart.forEach(item => {
      const li = document.createElement('li');
      li.textContent = `${item.model} (Taille ${item.size}, Attache: ${item.hook}, Couleur: ${item.color}) - ${item.price.toFixed(2).replace('.', ',')} ‚Ç¨`;
      // Bouton supprimer
      const btnRemove = document.createElement('button');
      btnRemove.classList.add('remove-item');
      btnRemove.textContent = '√ó';
      btnRemove.title = 'Supprimer cet article';
      btnRemove.addEventListener('click', () => {
        cart = cart.filter(i => i.id !== item.id);
        updateCartUI();
      });
      li.appendChild(btnRemove);
      cartList.appendChild(li);
      total += item.price;
    });
    cartTotal.textContent = 'Total : ' + total.toFixed(2).replace('.', ',') + ' ‚Ç¨';
  }

  // G√©n√©ration r√©capitulatif commande
  function generateSummaryText() {
    if (cart.length === 0) return 'Panier vide.';
    const name = document.getElementById('client-name').value.trim() || '[Nom non renseign√©]';
    const phone = document.getElementById('client-phone').value.trim() || '[T√©l√©phone non renseign√©]';
    const email = document.getElementById('client-email').value.trim() || '[Email non renseign√©]';
    const message = document.getElementById('client-message').value.trim() || '[Pas de message]';

    let summary = '--- R√©capitulatif de commande ---\n\nArticles :\n';
    cart.forEach((item, idx) => {
      summary += `${idx + 1}. Mod√®le: ${item.model}, Taille: ${item.size}, Attache: ${item.hook}, Couleur: ${item.color}, Prix: ${item.price.toFixed(2).replace('.', ',')} ‚Ç¨\n`;
    });
    const total = cart.reduce((acc, i) => acc + i.price, 0).toFixed(2).replace('.', ',');
    summary += `\nTotal : ${total} ‚Ç¨\n\n`;
    summary += `Coordonn√©es :\nNom : ${name}\nT√©l√©phone : ${phone}\nEmail : ${email}\nMessage : ${message}\n\n`;
    summary += 'Contacts Cr√©ations Romane : 06.15.66.33.13 | rcreations.resine@gmail.com | @creationsromane';

    return summary;
  }

  // Copier le r√©capitulatif
  copySummaryBtn.addEventListener('click', () => {
    const summaryText = generateSummaryText();
    navigator.clipboard.writeText(summaryText).then(() => {
      copyConfirmation.style.display = 'block';
      setTimeout(() => copyConfirmation.style.display = 'none', 3000);
    }).catch(() => {
      alert('Erreur lors de la copie. Essaie avec Ctrl+C.');
    });
  });

  // Initialisation
  createModelOptions();
  createHookOptions();
  createColorOptions();

  // Au d√©part pas de tailles affich√©es
  updateSizeOptions();
  updateSummary();
  updateAddButton();
  updateCartUI();

})();
</script>
</body>
</html>
